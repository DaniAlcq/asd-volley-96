backend:
  name: github
  repo: DaniAlcq/asd-volley-96
  branch: main
  base_url: https://volley96-auth-proxy.onrender.com
  auth_endpoint: /auth   # <-- QUI

publish_mode: editorial_workflow

media_folder: "img/uploads"
public_folder: "/asd-volley-96/img/uploads"

collections:
  # NEWS (file unico data/news.json con array "items")
  - name: news
    label: News
    files:
      - label: News
        name: news_file
        file: data/news.json
        format: json
        fields:
          - label: News
            name: items
            widget: list
            summary: "{{fields.titolo}}"
            fields:
              - { label: ID, name: id, widget: string }
              - { label: Titolo, name: titolo, widget: string }
              - { label: Immagine, name: immagine, widget: image }
              - { label: Contenuto, name: contenuto, widget: text }

  # CAROSELLO (file unico data/carosello.json con array "items")
  - name: carosello
    label: Carosello
    files:
      - label: Carosello
        name: carosello_file
        file: data/carosello.json
        format: json
        fields:
          - label: Slide
            name: items
            widget: list
            summary: "{{fields.caption}}"
            fields:
              - { label: Immagine, name: immagine, widget: image }
              - { label: Caption, name: caption, widget: string }
              - { label: Descrizione, name: descrizione, widget: text, required: false }

  # CALENDARIO (file unico data/calendario.json con array "items")
  - name: calendario
    label: Calendario
    files:
      - label: Calendario
        name: calendario_file
        file: data/calendario.json
        format: json
        fields:
          - label: Partite
            name: items
            widget: list
            summary: "Giornata {{fields.giornata}} — {{fields.avversario}}"
            fields:
              - { label: Categoria, name: categoria, widget: select, options: ["Femminile", "Maschile"] }
              - { label: Giornata, name: giornata, widget: string }
              - { label: Data/Ora, name: data, widget: string }
              - { label: Avversario, name: avversario, widget: string }
              - { label: Logo Avversario, name: logo, widget: image }
              - { label: Luogo (immagine), name: luogo, widget: image, required: false }
              - { label: Risultato, name: risultato, widget: string, required: false }

  # RISULTATI (file unico data/results.json con array "items")
  - name: results
    label: Risultati
    files:
      - label: Risultati
        name: results_file
        file: data/results.json
        format: json
        fields:
          - label: Risultati
            name: items
            widget: list
            summary: "{{fields.categoria}} — {{fields.giorno}}"
            fields:
              - { label: Categoria, name: categoria, widget: select, options: ["Femminile", "Maschile"] }
              - { label: Giorno, name: giorno, widget: string }
              - label: Squadra Casa
                name: squadraCasa
                widget: object
                fields:
                  - { label: Nome, name: nome, widget: string }
                  - { label: Logo, name: logo, widget: image }
              - label: Squadra Ospite
                name: squadraOspite
                widget: object
                fields:
                  - { label: Nome, name: nome, widget: string }
                  - { label: Logo, name: logo, widget: image }
              - { label: Punti Casa, name: risultatoCasa, widget: string }
              - { label: Punti Ospite, name: risultatoOspite, widget: string }
              - label: Set
                name: sets
                widget: list
                field: { label: Set, name: set, widget: string }

  # SCARABEI / MVP (file unico data/scarabei.json con array "items")
  - name: scarabei
    label: MVP / Scarabei
    files:
      - label: Scarabei
        name: scarabei_file
        file: data/scarabei.json
        format: json
        fields:
          - label: Giocatori
            name: items
            widget: list
            summary: "{{fields.nome}} — {{fields.categoria}}"
            fields:
              - { label: Nome, name: nome, widget: string }
              - { label: Categoria, name: categoria, widget: string }
              - { label: Prestazione, name: prestazione, widget: string, required: false }
              - { label: Immagine, name: immagine, widget: image }

  # CLASSIFICA (file unico data/classifica.json con array "items")
  - name: classifica
    label: Classifica
    files:
      - label: Classifica
        name: classifica_file
        file: data/classifica.json
        format: json
        fields:
          - label: Squadre
            name: items
            widget: list
            summary: "#{{fields.posizione}} {{fields.nome}} ({{fields.punti}} p.)"
            fields:
              - { label: Posizione, name: posizione, widget: number }
              - { label: Nome, name: nome, widget: string }
              - { label: Logo, name: logo, widget: image, required: false }
              - { label: Punti, name: punti, widget: number }
              - { label: PG, name: partite_giocate, widget: number }
              - { label: Vittorie, name: vittorie, widget: number }
              - { label: Sconfitte, name: sconfitte, widget: number }
